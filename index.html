<!doctype html>

<html lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Phaser - Blockly</title>

		<script src="lib/blockly/blockly_compressed.js"></script>
		<script src="lib/blockly/blocks_compressed.js"></script>
		<script src="lib/blockly/javascript_compressed.js"></script>
		<script src="lib/blockly/msg/js/fr.js"></script>
		<script src="lib/jquery-2.1.4.js"></script>
		<script src="lib/bootstrap.min.js"></script>
		<script src="lib/acorn.js"></script>
		<script src="lib/interpreter.js"></script>
		<script src="lib/phaser.min.js"></script>

		<script src="dist/bug_blocks.js"></script>
		<script src="dist/boot.js"></script>
		<script src="dist/preloader.js"></script>
		<script src="dist/tree.js"></script>
		<script src="dist/phaser-demo1.js"></script>
		<script src="dist/glassmarbles.js"></script>

		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/BugSwarm.css" rel="stylesheet">

		<style type="text/css">
			body
			{
				margin: 0;
			}
		</style>

	</head>

	<body>

		<script type="text/javascript">

			/** Pointeur sur fonction */
			var ms_OnBlocklyUpdate = new BlockInstructionEmpty();

			/** @class Game
			*/
			function Game()
			{
				this.m_Game = new Phaser.Game( 800, 600, Phaser.AUTO, '' );

				this.m_Game.state.add( boot.getStateName(), boot );
				this.m_Game.state.add( preloader.getStateName(), preloader );
				this.m_Game.state.add( tree.getStateName(), tree );
				this.m_Game.state.add( phaserdemo1.getStateName(), phaserdemo1 );
				this.m_Game.state.add( glassmarbles.getStateName(), glassmarbles );

				this.m_Game.state.start( boot.getStateName() );
			}

			var ms_Phaser = new Game();

		</script>

		<div id="workspace" style="position:fixed;left:50%;width:40%">
			<div id="content">
				<ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
					<li class="active"><a href="#red" data-toggle="tab">Blocks</a></li>
					<li><a href="#orange" data-toggle="tab">Code</a></li>
				</ul>
				<div id="my-tab-content" class="tab-content" style="background-color:black">
					<div class="tab-pane active" id="red">
						<div id="blocklyDiv" style="height: 400px; width:100%; ">
							<div style="float:right">
								<button id="buildandrunButton">Build and run</button>
								<button id="buildButton">Build</button>
								<button id="stepButton" disabled="disabled">Step</button>
								<button id="resetButton">Reset stage</button>
							</div>
						</div>
					</div>
					<div class="tab-pane" style="height: 400px; width:100%;" id="orange">
						<textarea id="consoleTextarea" rows="5" cols="50"></textarea>
					</div>
				</div>
			</div>
		</div>


		<xml id="toolbox" style="display: none">
			<block type="bug_move_left"></block>
			<block type="bug_move_right"></block>
			<block type="bug_jump"></block>
			<block type="bug_wait"></block>
			<block type="bug_controls_loop"></block>
		</xml>

		<script src="dist/workspace.js"></script>

		<script type="text/javascript">
			jQuery(document).ready( function ($)
			{
				$('#tabs').tab();
			});
		</script>

		<script>
		$(function()
		{
			$(".meter > span").each( function()
			{
				$(this)
				.data("origWidth", $(this).width())
				.width(0)
				.animate(
				{
					width: $(this).data("origWidth")
				}, 1200 );
			});
		});
		</script>

	</body>
</html>
